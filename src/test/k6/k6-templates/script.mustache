
import http from 'k6/http';
import { check, sleep, group } from 'k6';

// ===================================================================================
//  TEST OPTIONS
//  These settings define the load scenario and success criteria for the test.
// ===================================================================================
export const options = {
  stages: [
    { duration: '20s', target: 50 }, // 20초 동안 가상 사용자(VU)를 50명까지 서서히 늘립니다.
    { duration: '1m', target: 50 },  // 1분 동안 50명의 가상 사용자를 유지합니다.
    { duration: '10s', target: 0 },  // 10초 동안 가상 사용자를 0명으로 서서히 줄입니다.
  ],
  thresholds: {
    'http_req_failed': ['rate<0.01'],   // HTTP 요청 실패율이 1% 미만이어야 합니다.
    'http_req_duration': ['p(95)<500'], // 전체 요청의 95%가 500ms 안에 응답해야 합니다.
    'checks': ['rate>0.99'],             // 모든 check의 성공률이 99% 이상이어야 합니다.
  },
};

